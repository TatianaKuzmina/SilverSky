<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Информация о пользователях</title>
    <link href="/image/logo2.jpg" rel="icon">
    <script src="https://kit.fontawesome.com/cdf18c93d7.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link th:href="@{/css/allOrders.css}" type="text/css" rel="stylesheet">
</head>
<body>
<br>
<a href="/allUsers">Назад к списку пользователей</a>
<br>
<br>
<hr>
<br>
<h3>Информация о пользователе: </h3>
<p th:text="'Логин: ' + ${user.getLogin()}"></p>
<p th:text="'ID пользователя: ' + ${user.getId()}"></p>
<p th:text="'Роль пользователя: ' + ${user.getRole}"></p>
<!--Если роль пользователя не Админ, то показываем форму для смены роли пользователя-->
<div th:if="${!user.getRole().equals('ROLE_ADMIN')}">
  <form th:method="post" th:action="@{/admin/user/{id}(id=${user.getId()})}" th:object="${user}">
    <label for="role">Изменить роль пользователя: </label>
    <select name="role" th:field="*{role}" id="role">
      <option th:text="${role[1]}" th:value="${role[1]}"></option>
      <option th:text="${role[2]}" th:value="${role[2]}"></option>
    </select>
    <input type="submit" value="Изменить">
  </form>
</div>
</body>
</html>